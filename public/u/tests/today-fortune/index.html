<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì˜¤ëŠ˜ì˜ ìš´ì„¸ - ISFJ</title>
    <link rel="stylesheet" href="/u/tests/assets/css/main.css?20251010120000">
    <style>
        /* Custom styles are now handled by main.css through .info-card */
        .card-title .icon {
            display: inline-block;
            margin-right: 0.5em;
            font-style: normal;
        }
    </style>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4262871645049971" crossorigin="anonymous"></script>
</head>
<body>
    <header class="main-nav">
        <a href="/u/tests/" class="logo">ISFJ.KR Tests</a>
        <div class="nav-right-section">
            <nav class="nav-links" id="nav-links"></nav>
            <button id="theme-switcher" class="theme-switcher">ğŸŒ™</button>
            <button id="hamburger" class="hamburger">â˜°</button>
        </div>
    </header>

    <div class="container">
        <h1>ì˜¤ëŠ˜ì˜ ISFJ ìš´ì„¸</h1>
        
        <div class="content-card">
            <ins class="adsbygoogle"
                style="display:block"
                data-ad-client="ca-pub-4262871645049971"
                data-ad-slot="2065367733"
                data-ad-format="auto"
                data-full-width-responsive="true"></ins>
            <script>
                (adsbygoogle = window.adsbygoogle || []).push({});
            </script>
        </div>
        
        <div id="fortuneContent">
            <div class="card info-card">
                <div class="card-title"><span class="icon">ğŸ’¡</span> ì˜¤ëŠ˜ì˜ ì¡°ì–¸</div>
                <p id="adviceDisplay">ì¡°ì–¸ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p>
            </div>
            <div class="card info-card">
                <div class="card-title"><span class="icon">ğŸ“</span> ì˜¤ëŠ˜ì˜ ê³¼ì œ</div>
                <p id="taskDisplay">ê³¼ì œë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p>
            </div>
            <div class="card info-card">
                <div class="card-title"><span class="icon">ğŸ“ˆ</span> ISFJ ì§€ìˆ˜</div>
                <p id="mbtiIndexDisplay">ISFJ ì§€ìˆ˜ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p>
            </div>
            <div class="card info-card">
                <div class="card-title"><span class="icon">ğŸ”‘</span> í–‰ìš´ì˜ í‚¤ì›Œë“œ</div>
                <p id="keywordDisplay">í‚¤ì›Œë“œë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p>
            </div>
        </div>
        
        <div class="content-card">
            <ins class="adsbygoogle"
                style="display:block"
                data-ad-format="autorelaxed"
                data-ad-client="ca-pub-4262871645049971"
                data-ad-slot="5813041058"></ins>
            <script>
                (adsbygoogle = window.adsbygoogle || []).push({});
            </script>
        </div>
        
        <div id="giscus-container" style="margin: 15px 0;"></div>
        <script>
            function loadGiscus() {
                const container = document.getElementById('giscus-container');
                while (container.firstChild) container.removeChild(container.firstChild);
                
                const script = document.createElement('script');
                script.src = 'https://giscus.app/client.js';
                script.setAttribute('data-repo', 'OUS-KR/INTP.KR');
                script.setAttribute('data-repo-id', 'R_kgDOOrfScQ');
                script.setAttribute('data-category', 'Announcements');
                script.setAttribute('data-category-id', 'DIC_kwDOOrfScc4CqQAN');
                script.setAttribute('data-mapping', 'pathname');
                script.setAttribute('data-strict', '0');
                script.setAttribute('data-reactions-enabled', '1');
                script.setAttribute('data-emit-metadata', '1');
                script.setAttribute('data-input-position', 'top');
                script.setAttribute('data-theme', localStorage.getItem('theme') ?? 'light');
                script.setAttribute('data-loading', 'lazy');
                script.setAttribute('data-lang', 'ko');
                script.setAttribute('crossorigin', 'anonymous');
                script.setAttribute('async', '');
                
                container.appendChild(script);
            }
            
            loadGiscus();
        </script>
        
        <div class="content-card">
            <ins class="adsbygoogle"
                style="display:block"
                data-ad-format="autorelaxed"
                data-ad-client="ca-pub-4262871645049971"
                data-ad-slot="5813041058"></ins>
            <script>
                (adsbygoogle = window.adsbygoogle || []).push({});
            </script>
        </div>
    </div>

    <script src="/u/tests/assets/js/main.js?20251020101300" defer></script>
    <script src="/u/tests/assets/js/dynamic-menu.js?20251010170000" defer></script>
    <script>
    function getDailySeed() {
        const today = new Date();
        return today.getFullYear() * 10000 + (today.getMonth() + 1) * 100 + today.getDate();
    }

    function mulberry32(seed) {
        return function() {
            seed |= 0;
            seed = seed + 0x6D2B79F5 | 0;
            let t = Math.imul(seed ^ seed >>> 15, 1 | seed);
            t = t + Math.imul(t ^ t >>> 7, 61 | t) | 0;
            return ((t ^ t >>> 14) >>> 0) / 4294967296;
        }
    }

    /**
     * í•œêµ­ì–´ ì¡°ì‚¬(e.g., ì€/ëŠ”, ì„/ë¥¼)ë¥¼ ì• ë‹¨ì–´ì˜ ë°›ì¹¨ ìœ ë¬´ì— ë”°ë¼ ì˜¬ë°”ë¥´ê²Œ ì„ íƒí•˜ëŠ” í•¨ìˆ˜
     * @param {string} text - ì¡°ì‚¬ê°€ ë¶™ì„ ë‹¨ì–´
     * @param {string} particle - '/'ë¡œ êµ¬ë¶„ëœ ì¡°ì‚¬ ìŒ (ì˜ˆ: "ì„/ë¥¼")
     * @returns {string} - ì„ íƒëœ ì¡°ì‚¬
     */
    function josa(text, particle) {
        const particles = particle.split('/');
        if (particles.length < 2) return particle;

        if (typeof text !== 'string' || text.length === 0) return particles[1];
        const lastChar = text[text.length - 1];
        const charCode = lastChar.charCodeAt(0);

        // í•œê¸€ (ê°€-í£) ë²”ìœ„ ì²´í¬
        if (charCode < 0xAC00 || charCode > 0xD7A3) {
            // í•œê¸€ì´ ì•„ë‹ˆë©´ ê¸°ë³¸ê°’(ë°›ì¹¨ ì—†ëŠ” ê²½ìš°) ë°˜í™˜
            return particles[1];
        }

        const hasBatchim = (charCode - 0xAC00) % 28 > 0;
        return hasBatchim ? particles[0] : particles[1];
    }

    // --- Enhanced Generative Data Parts (ISFJ) ---
    const data = {
        advice: {
            openings: ["ì˜¤ëŠ˜ì€", "ì˜¤ëŠ˜ ë‹¹ì‹ ì˜", "ì§€ê¸ˆì€", "ì˜¤ëŠ˜ì€ íŠ¹ë³„íˆ"],
            subjects: ["ë‹¹ì‹ ì˜ í—Œì‹ ì ì¸ íƒœë„ê°€", "ì„¸ë¶€ ì‚¬í•­ì„ ë†“ì¹˜ì§€ ì•ŠëŠ” ê¼¼ê¼¼í•¨ì´", "íƒ€ì¸ì„ í–¥í•œ ë”°ëœ»í•œ ë°°ë ¤ì‹¬ì´", "ì•ˆì •ê³¼ ì¡°í™”ë¥¼ ì¶”êµ¬í•˜ëŠ” ë§ˆìŒì´", "ê³¼ê±°ì˜ ê²½í—˜ì„ ì¡´ì¤‘í•˜ëŠ” ì§€í˜œê°€"],
            verbs: ["ì£¼ë³€ ì‚¬ëŒë“¤ì—ê²Œ í° í˜ì´ ë©ë‹ˆë‹¤.", "ì‹¤ìˆ˜ë¥¼ ë°©ì§€í•˜ê³  ì™„ë²½í•œ ê²°ê³¼ë¥¼ ë§Œë“¤ì–´ëƒ…ë‹ˆë‹¤.", "ì–´ìƒ‰í•œ ë¶„ìœ„ê¸°ë¥¼ ë¶€ë“œëŸ½ê²Œ í’€ì–´ì¤ë‹ˆë‹¤.", "ëª¨ë‘ì—ê²Œ í¸ì•ˆí•˜ê³  ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” í™˜ê²½ì„ ì œê³µí•©ë‹ˆë‹¤.", "í˜„ì¬ì˜ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ì¤‘ìš”í•œ ì—´ì‡ ê°€ ë  ê²ƒì…ë‹ˆë‹¤."],
            connectors: ["ê·¸ëŸ¬ë‹ˆ", "ì´ ê¸°íšŒë¥¼ í™œìš©í•´", "ìì‹ ê°ì„ ê°–ê³ ", "ë§ì„¤ì´ì§€ ë§ê³ "],
            actions: ["ìì‹ ì„ ì±™ê¸°ëŠ” ì‹œê°„ì„ ì˜ì‹ì ìœ¼ë¡œ ê°€ì ¸ë³´ì„¸ìš”.", "ë‹¹ì‹ ì˜ ë„ì›€ì´ í•„ìš”í•œ ì‚¬ëŒì—ê²Œ ë¨¼ì € ì†ì„ ë‚´ë°€ì–´ ë³´ì„¸ìš”.", "ê³¼ê±°ì˜ ì†Œì¤‘í•œ ì¶”ì–µì„ ë– ì˜¬ë¦¬ë©° ì ì‹œ íœ´ì‹ì„ ì·¨í•˜ì„¸ìš”.", "ìì‹ ì˜ ê°ì •ì„ ì†”ì§í•˜ê²Œ í‘œí˜„í•˜ëŠ” ì—°ìŠµì„ í•´ë³´ì„¸ìš”.", "ë°˜ë³µë˜ëŠ” ì¼ìƒ ì†ì—ì„œ ì‘ì€ í–‰ë³µì„ ì°¾ì•„ë³´ì„¸ìš”."]
        },
        task: {
            types: ["ê¸°ë¡í•˜ê¸°:", "ëŒë³´ê¸°:", "ê³„íší•˜ê¸°:", "ì •ë¦¬í•˜ê¸°:"],
            actions: ["ì˜¤ëŠ˜ í•˜ë£¨ ê°ì‚¬í–ˆë˜", "ë‹¹ì‹ ì˜ ë³´ì‚´í•Œì´ í•„ìš”í•œ", "ë‹¤ìŒ ì£¼ì— í•´ì•¼ í• ", "ê°€ì¥ ì–´ìˆ˜ì„ í•œ"],
            subjects: ["ì„¸ ê°€ì§€ ì¼", "ì‘ì€ í™”ë¶„", "ì¤‘ìš”í•œ ì•½ì†", "ì±…ìƒì˜ í•œ ë¶€ë¶„"],
            verbs: ["ì„(ë¥¼) ì¼ê¸°ì¥ì— ì ì–´ë³´ì„¸ìš”.", "ì— ì •ì„±ì„ ìŸì•„ë³´ì„¸ìš”.", "ì„(ë¥¼) ìŠì§€ ì•Šë„ë¡ ë‹¬ë ¥ì— í‘œì‹œí•´ ë³´ì„¸ìš”.", "ì„(ë¥¼) ê¹”ë”í•˜ê²Œ ì •ëˆí•˜ê³  ë§Œì¡±ê°ì„ ëŠê»´ë³´ì„¸ìš”."]
        },
        mbtiIndex: {
            reasons: ["ë”°ëœ»í•œ ê³µê° ëŠ¥ë ¥ì´ ì£¼ë³€ì— ì•ˆì •ê°ì„ ì£¼ì–´", "ì„±ì‹¤í•˜ê³  ì±…ì„ê° ìˆëŠ” íƒœë„ë¡œ ì‹ ë¢°ë¥¼ ì–»ì–´", "ì„¸ì‹¬í•œ ê´€ì°°ë ¥ìœ¼ë¡œ íƒ€ì¸ì˜ í•„ìš”ë¥¼ ë¨¼ì € ì•Œì•„ì°¨ë ¤", "ì¡°í™”ë¡œìš´ ê´€ê³„ ì†ì—ì„œ ë‚´ë©´ì˜ í‰í™”ë¥¼ ëŠê»´"],
            results: ["ì£¼ë³€ ì‚¬ëŒë“¤ì´ ë‹¹ì‹ ì—ê²Œ í¸ì•ˆí•˜ê²Œ ì˜ì§€í•˜ê²Œ ë©ë‹ˆë‹¤.", "ì–´ë–¤ ì¼ì´ë“  ë¯¿ê³  ë§¡ê¸¸ ìˆ˜ ìˆëŠ” ì‚¬ëŒìœ¼ë¡œ ì¸ì •ë°›ìŠµë‹ˆë‹¤.", "ë‹¹ì‹ ì˜ ë°°ë ¤ì— ë§ì€ ì‚¬ëŒë“¤ì´ ê°ë™ë°›ì„ ê²ƒì…ë‹ˆë‹¤.", "ì•ˆì •ì ì¸ ì¸ê°„ê´€ê³„ ì†ì—ì„œ í–‰ë³µì„ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤."]
        },
        keywords: ["ë”°ëœ»í•œ", "í—Œì‹ ì ì¸", "ì„±ì‹¤í•œ", "ì±…ì„ê° ìˆëŠ”", "ë°°ë ¤ì‹¬ ê¹Šì€", "ê³µê°í•˜ëŠ”", "ê´€ì°°ë ¥ ìˆëŠ”", "ê³„íšì ì¸", "ì¡°ì§ì ì¸", "ì•ˆì •ì ì¸", "ì „í†µì ì¸", "ë³´ìˆ˜ì ì¸", "ì¸ë‚´ì‹¬ ìˆëŠ”", "ì¡°ìš©í•œ", "ì¹œê·¼í•œ", "ìˆ˜í˜¸ì", "ì¡°ë ¥ê°€", "ì„¸ë¶€ì ", "ì‹¤ìš©ì ", "ë´‰ì‚¬", "í¬ìƒ"]
    };

    // --- Generator Functions ---
    function generateAdvice(randFn, parts) {
        const pick = (arr) => arr[Math.floor(randFn() * arr.length)];
        
        const structureType = randFn();
        if (structureType < 0.4) {
            // Structure 1: Subject + Verb
            return `${pick(parts.subjects)} ${pick(parts.verbs)}`;
        } else if (structureType < 0.8) {
            // Structure 2: Opening + Subject + Verb
            return `${pick(parts.openings)} ${pick(parts.subjects)} ${pick(parts.verbs)}`;
        } else {
            // Structure 3: Full Sentence
            return `${pick(parts.openings)} ${pick(parts.subjects)} ${pick(parts.verbs)} ${pick(parts.connectors)} ${pick(parts.actions)}`;
        }
    }

    function generateTask(randFn, parts) {
        const pick = (arr) => arr[Math.floor(randFn() * arr.length)];
        
        const type = pick(parts.types);
        const action = pick(parts.actions);
        const subject = pick(parts.subjects);
        const verb = pick(parts.verbs);

        // ë¬¸ì¥ ì¡°í•©: action + subject + verb
        let rawSentence = `${action} ${subject}${verb}`;

        // ì¡°ì‚¬ ì²˜ë¦¬
        rawSentence = rawSentence
            .replace("ì„(ë¥¼)", josa(subject, "ì„/ë¥¼"))
            .replace("ì€(ëŠ”)", josa(subject, "ì€/ëŠ”"))
            .replace("ì´(ê°€)", josa(subject, "ì´/ê°€"))
            .replace("ê³¼/ì™€", josa(subject, "ê³¼/ì™€"));

        return `${type} ${rawSentence}`;
    }

    function generateMbtiIndex(randFn, parts) {
        const pick = (arr) => arr[Math.floor(randFn() * arr.length)];
        const percentage = 65 + Math.floor(randFn() * 31); // 65% to 95%
        return `${percentage}% - ${pick(parts.reasons)} ${pick(parts.results)}`;
    }

    function generateKeywords(randFn, keywords, count) {
        const shuffled = [...keywords].sort(() => randFn() - 0.5);
        return shuffled.slice(0, count).map(k => `#${k}`).join(" ");
    }

    // --- Main Execution ---
    window.onload = function() {
        try {
            const seed = getDailySeed();
            const randFn = mulberry32(seed);

            document.getElementById('adviceDisplay').innerText = generateAdvice(randFn, data.advice);
            document.getElementById('taskDisplay').innerText = generateTask(randFn, data.task);
            document.getElementById('mbtiIndexDisplay').innerText = generateMbtiIndex(randFn, data.mbtiIndex);
            document.getElementById('keywordDisplay').innerText = generateKeywords(randFn, data.keywords, 5);
        } catch (e) {
            console.error("ì˜¤ëŠ˜ì˜ ìš´ì„¸ ìƒì„± ì¤‘ ì˜¤ë¥˜ ë°œìƒ:", e);
            document.getElementById('adviceDisplay').innerText = "ì½˜í…ì¸ ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•´ ì£¼ì„¸ìš”.";
        }
    };
</script>
</body>
</html>